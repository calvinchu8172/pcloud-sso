<% if params[:title] == 'bind_account' %>
  <% provide(:flow, I18n.t("titles.bind_account")) %>
<% else %>
  <% provide(:flow, I18n.t("titles.forgot_password")) %>
<% end %>

<div class="zyxel_content">
  <%= form_for(resource, as: resource_name, url: password_path(resource_name), html: { method: :put }) do |f| %>
    <%= f.hidden_field :reset_password_token %>
    <%= hidden_field_tag :title, params[:title] %>
    <fieldset>
      <table class="zyxel_table_style">
        <tr>
          <th><%= I18n.t("user.labels.email") %></th>
          <td colspan="3"><%= @email %></td>
        </tr>

        <tr>
          <th><span>* </span><%= f.label :password, I18n.t("user.labels.new_password"), class: "th_label" %></th>
          <td colspan="3">
            <%= f.password_field :password, autofocus: true, autocomplete: "off", class: "input_style1 td_field", maxlength:14 %>
            <div class="password_suggestion"><%= I18n.t("user.labels.password_suggestion")%></div>
            <div id="password_meter"></div>
          </td>
        </tr>

        <tr>
          <th><span>* </span><%= f.label :password_confirmation, I18n.t("user.labels.new_password_confirmation"), class: "th_label" %></th>
          <td colspan="3">
            <%= f.password_field :password_confirmation, autocomplete: "off", class: "input_style1 td_field", maxlength:14 %>
          </td>
        </tr>
      </table>
      <div class="zyxel_btn_area i18n_fix">
        <%= link_to(I18n.t("labels.cancel"), "/", class: "zyxel_btn_back") %>
        <% if params[:title] == 'bind_account' %>
          <%= f.submit I18n.t("labels.bind_account"), class: "zyxel_btn_submit" %>
        <% else %>
          <%= f.submit I18n.t("labels.submit"), class: "zyxel_btn_submit" %>
        <% end %>
      </div><!-- zyxel_btn_area -->
    </fieldset>
  <% end %>
</div>